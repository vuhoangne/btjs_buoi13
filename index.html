<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>B√†i T·∫≠p V·ªÅ Nh√† - JavaScript</title>
    <style>
      /* CSS remains unchanged */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .exercises {
        padding: 30px;
      }

      .exercise {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 25px;
        border-left: 5px solid #007bff;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .exercise:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .exercise h3 {
        color: #007bff;
        margin-bottom: 20px;
        font-size: 1.4em;
      }

      .input-group {
        margin-bottom: 15px;
      }

      .input-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #333;
      }

      .input-group input,
      .input-group select {
        width: 100%;
        padding: 12px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      .input-group input:focus,
      .input-group select:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
      }

      .btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        margin: 10px 5px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .result {
        background: #e8f5e8;
        border: 2px solid #28a745;
        border-radius: 10px;
        padding: 15px;
        margin-top: 15px;
        font-weight: bold;
        color: #155724;
      }

      .result.error {
        background: #f8d7da;
        border-color: #dc3545;
        color: #721c24;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }

      .table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }

      .table th,
      .table td {
        border: 1px solid #dee2e6;
        padding: 12px;
        text-align: center;
      }

      .table th {
        background: #007bff;
        color: white;
      }

      .table tr:nth-child(even) {
        background: #f8f9fa;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üè† B√†i T·∫≠p V·ªÅ Nh√†</h1>
        <p>JavaScript Programming Exercises</p>
      </div>

      <div class="exercises">
        <!-- Exercise 1: Student Management -->
        <div class="exercise">
          <h3>üìö B√†i 1: Qu·∫£n L√Ω Tuy·ªÉn Sinh</h3>
          <p>
            <strong>M√¥ t·∫£:</strong> T√≠nh ƒëi·ªÉm t·ªïng k·∫øt v√† x√©t tuy·ªÉn sinh d·ª±a
            tr√™n ƒëi·ªÉm 3 m√¥n thi, ƒëi·ªÉm ∆∞u ti√™n khu v·ª±c v√† ƒë·ªëi t∆∞·ª£ng.
          </p>

          <div class="grid">
            <div>
              <div class="input-group">
                <label>ƒêi·ªÉm chu·∫©n:</label>
                <input
                  type="number"
                  id="diemChuan"
                  value="20"
                  min="0"
                  max="30"
                />
              </div>
              <div class="input-group">
                <label>ƒêi·ªÉm m√¥n 1:</label>
                <input type="number" id="diem1" min="0" max="10" step="0.1" />
              </div>
              <div class="input-group">
                <label>ƒêi·ªÉm m√¥n 2:</label>
                <input type="number" id="diem2" min="0" max="10" step="0.1" />
              </div>
              <div class="input-group">
                <label>ƒêi·ªÉm m√¥n 3:</label>
                <input type="number" id="diem3" min="0" max="10" step="0.1" />
              </div>
            </div>
            <div>
              <div class="input-group">
                <label>Khu v·ª±c:</label>
                <select id="khuVuc">
                  <option value="A">Khu v·ª±c A (2 ƒëi·ªÉm)</option>
                  <option value="B">Khu v·ª±c B (1 ƒëi·ªÉm)</option>
                  <option value="C">Khu v·ª±c C (0.5 ƒëi·ªÉm)</option>
                  <option value="X">Khu v·ª±c X (0 ƒëi·ªÉm)</option>
                </select>
              </div>
              <div class="input-group">
                <label>ƒê·ªëi t∆∞·ª£ng:</label>
                <select id="doiTuong">
                  <option value="1">ƒê·ªëi t∆∞·ª£ng 1 (2.5 ƒëi·ªÉm)</option>
                  <option value="2">ƒê·ªëi t∆∞·ª£ng 2 (1.5 ƒëi·ªÉm)</option>
                  <option value="3">ƒê·ªëi t∆∞·ª£ng 3 (1 ƒëi·ªÉm)</option>
                  <option value="0">Kh√¥ng c√≥ (0 ƒëi·ªÉm)</option>
                </select>
              </div>
              <button class="btn" onclick="tinhDiemTuyenSinh()">
                T√≠nh ƒêi·ªÉm
              </button>
            </div>
          </div>
          <div id="ketQuaTuyenSinh"></div>
        </div>

        <!-- Exercise 2: Electricity Bill -->
        <div class="exercise">
          <h3>‚ö° B√†i 2: T√≠nh Ti·ªÅn ƒêi·ªán</h3>
          <p>
            <strong>M√¥ t·∫£:</strong> T√≠nh ti·ªÅn ƒëi·ªán theo b·∫≠c thang d·ª±a tr√™n s·ªë KW
            ti√™u th·ª•.
          </p>

          <div class="input-group">
            <label>T√™n kh√°ch h√†ng:</label>
            <input
              type="text"
              id="tenKhachHang"
              placeholder="Nh·∫≠p t√™n kh√°ch h√†ng"
            />
          </div>
          <div class="input-group">
            <label>S·ªë KW ti√™u th·ª•:</label>
            <input type="number" id="soKW" min="0" placeholder="Nh·∫≠p s·ªë KW" />
          </div>
          <button class="btn" onclick="tinhTienDien()">T√≠nh Ti·ªÅn ƒêi·ªán</button>

          <div
            class="result"
            style="
              margin-top: 15px;
              background: #e3f2fd;
              border-color: #2196f3;
              color: #0d47a1;
            "
          >
            <strong>B·∫£ng gi√°:</strong>
            <table class="table" style="margin-top: 10px">
              <tr>
                <th>B·∫≠c</th>
                <th>S·ªë KW</th>
                <th>Gi√° (VNƒê/KW)</th>
              </tr>
              <tr>
                <td>1</td>
                <td>50 KW ƒë·∫ßu</td>
                <td>500</td>
              </tr>
              <tr>
                <td>2</td>
                <td>50 KW k·∫ø</td>
                <td>650</td>
              </tr>
              <tr>
                <td>3</td>
                <td>100 KW k·∫ø</td>
                <td>850</td>
              </tr>
              <tr>
                <td>4</td>
                <td>150 KW k·∫ø</td>
                <td>1,100</td>
              </tr>
              <tr>
                <td>5</td>
                <td>C√≤n l·∫°i</td>
                <td>1,300</td>
              </tr>
            </table>
          </div>
          <div id="ketQuaTienDien"></div>
        </div>

        <!-- Exercise 3: Income Tax -->
        <div class="exercise">
          <h3>üí∞ B√†i 3: T√≠nh Thu·∫ø Thu Nh·∫≠p C√° Nh√¢n</h3>
          <p>
            <strong>M√¥ t·∫£:</strong> T√≠nh thu·∫ø thu nh·∫≠p c√° nh√¢n d·ª±a tr√™n thu nh·∫≠p
            ch·ªãu thu·∫ø v√† s·ªë ng∆∞·ªùi ph·ª• thu·ªôc.
          </p>

          <div class="grid">
            <div>
              <div class="input-group">
                <label>H·ªç t√™n:</label>
                <input type="text" id="hoTen" placeholder="Nh·∫≠p h·ªç t√™n" />
              </div>
              <div class="input-group">
                <label>T·ªïng thu nh·∫≠p nƒÉm (tri·ªáu VNƒê):</label>
                <input
                  type="number"
                  id="tongThuNhap"
                  min="0"
                  placeholder="Nh·∫≠p t·ªïng thu nh·∫≠p"
                />
              </div>
              <div class="input-group">
                <label>S·ªë ng∆∞·ªùi ph·ª• thu·ªôc:</label>
                <input type="number" id="soNguoiPhuThuoc" min="0" value="0" />
              </div>
              <button class="btn" onclick="tinhThue()">T√≠nh Thu·∫ø</button>
            </div>
            <div>
              <div
                class="result"
                style="
                  background: #fff3cd;
                  border-color: #ffc107;
                  color: #856404;
                "
              >
                <strong>B·∫£ng thu·∫ø su·∫•t:</strong>
                <table class="table" style="margin-top: 10px">
                  <tr>
                    <th>Thu nh·∫≠p ch·ªãu thu·∫ø (tri·ªáu)</th>
                    <th>Thu·∫ø su·∫•t (%)</th>
                  </tr>
                  <tr>
                    <td>ƒê·∫øn 60</td>
                    <td>5%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 60 ƒë·∫øn 120</td>
                    <td>10%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 120 ƒë·∫øn 210</td>
                    <td>15%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 210 ƒë·∫øn 384</td>
                    <td>20%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 384 ƒë·∫øn 624</td>
                    <td>25%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 624 ƒë·∫øn 960</td>
                    <td>30%</td>
                  </tr>
                  <tr>
                    <td>Tr√™n 960</td>
                    <td>35%</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div id="ketQuaThue"></div>
        </div>

        <!-- Exercise 4: Internet Bill -->
        <div class="exercise">
          <h3>üåê B√†i 4: T√≠nh Ti·ªÅn C√°p</h3>
          <p>
            <strong>M√¥ t·∫£:</strong> T√≠nh h√≥a ƒë∆°n ti·ªÅn c√°p cho kh√°ch h√†ng (Nh√†
            d√¢n/Doanh nghi·ªáp).
          </p>

          <div class="grid">
            <div>
              <div class="input-group">
                <label>M√£ kh√°ch h√†ng:</label>
                <input
                  type="text"
                  id="maKhachHang"
                  placeholder="Nh·∫≠p m√£ kh√°ch h√†ng"
                />
              </div>
              <div class="input-group">
                <label>Lo·∫°i kh√°ch h√†ng:</label>
                <select id="loaiKhachHang" onchange="toggleKetNoi()">
                  <option value="nhadan">Nh√† d√¢n</option>
                  <option value="doanhnghiep">Doanh nghi·ªáp</option>
                </select>
              </div>
              <div class="input-group" id="soKetNoiGroup" style="display: none">
                <label>S·ªë k·∫øt n·ªëi:</label>
                <input type="number" id="soKetNoi" min="1" value="1" />
              </div>
              <div class="input-group" id="soKenhGroup">
                <label>S·ªë k√™nh cao c·∫•p:</label>
                <input type="number" id="soKenh" min="0" value="0" />
              </div>
              <button class="btn" onclick="tinhTienCap()">T√≠nh Ti·ªÅn C√°p</button>
            </div>
            <div>
              <div
                class="result"
                style="
                  background: #d1ecf1;
                  border-color: #17a2b8;
                  color: #0c5460;
                "
              >
                <strong>B·∫£ng gi√° d·ªãch v·ª•:</strong><br />
                <strong>Nh√† d√¢n:</strong><br />
                ‚Ä¢ Ph√≠ x·ª≠ l√Ω h√≥a ƒë∆°n: 4.5$<br />
                ‚Ä¢ Ph√≠ d·ªãch v·ª• c∆° b·∫£n: 20.5$<br />
                ‚Ä¢ Thu√™ k√™nh cao c·∫•p: 7.5$/k√™nh<br /><br />
                <strong>Doanh nghi·ªáp:</strong><br />
                ‚Ä¢ Ph√≠ x·ª≠ l√Ω h√≥a ƒë∆°n: 15$<br />
                ‚Ä¢ Ph√≠ d·ªãch v·ª• c∆° b·∫£n: 75$ (10 k·∫øt n·ªëi ƒë·∫ßu)<br />
                ‚Ä¢ K·∫øt n·ªëi th√™m: 5$/k·∫øt n·ªëi<br />
                ‚Ä¢ Thu√™ k√™nh cao c·∫•p: 50$/k√™nh
              </div>
            </div>
          </div>
          <div id="ketQuaTienCap"></div>
        </div>
      </div>
    </div>

    <script>
      // Exercise 1: Student Management
      function tinhDiemTuyenSinh() {
        const diemChuan = parseFloat(
          document.getElementById("diemChuan").value
        );
        const diem1 = parseFloat(document.getElementById("diem1").value);
        const diem2 = parseFloat(document.getElementById("diem2").value);
        const diem3 = parseFloat(document.getElementById("diem3").value);
        const khuVuc = document.getElementById("khuVuc").value;
        const doiTuong = document.getElementById("doiTuong").value;

        const resultDiv = document.getElementById("ketQuaTuyenSinh");

        // Validate input
        if (isNaN(diem1) || isNaN(diem2) || isNaN(diem3) || isNaN(diemChuan)) {
          resultDiv.innerHTML =
            '<div class="result error">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!</div>';
          return;
        }

        // Check if any subject has score 0
        if (diem1 === 0 || diem2 === 0 || diem3 === 0) {
          resultDiv.innerHTML =
            '<div class="result error">R·ªõt! C√≥ m√¥n thi b·ªã ƒëi·ªÉm 0.</div>';
          return;
        }

        // Calculate priority points
        const diemKhuVuc =
          khuVuc === "A" ? 2 : khuVuc === "B" ? 1 : khuVuc === "C" ? 0.5 : 0;
        const diemDoiTuong =
          doiTuong === "1"
            ? 2.5
            : doiTuong === "2"
            ? 1.5
            : doiTuong === "3"
            ? 1
            : 0;

        // Calculate total score
        const tongDiem = diem1 + diem2 + diem3 + diemKhuVuc + diemDoiTuong;

        // Check admission result
        const ketQua = tongDiem >= diemChuan ? "ƒê·∫≠u" : "R·ªõt";
        const cssClass = tongDiem >= diemChuan ? "result" : "result error";

        resultDiv.innerHTML = `
                <div class="${cssClass}">
                    <strong>K·∫øt qu·∫£ x√©t tuy·ªÉn:</strong><br>
                    üìä T·ªïng ƒëi·ªÉm: ${tongDiem.toFixed(1)} ƒëi·ªÉm<br>
                    üìù ƒêi·ªÉm chu·∫©n: ${diemChuan} ƒëi·ªÉm<br>
                    üéØ K·∫øt qu·∫£: <strong>${ketQua}</strong><br>
                    <small>
                        Chi ti·∫øt: ƒêi·ªÉm 3 m√¥n (${diem1} + ${diem2} + ${diem3}) + 
                        ∆Øu ti√™n khu v·ª±c (${diemKhuVuc}) + 
                        ∆Øu ti√™n ƒë·ªëi t∆∞·ª£ng (${diemDoiTuong}) = ${tongDiem.toFixed(
          1
        )}
                    </small>
                </div>
            `;
      }

      // Exercise 2: Electricity Bill
      function tinhTienDien() {
        const tenKhachHang = document.getElementById("tenKhachHang").value;
        const soKW = parseFloat(document.getElementById("soKW").value);
        const resultDiv = document.getElementById("ketQuaTienDien");

        if (!tenKhachHang || isNaN(soKW) || soKW < 0) {
          resultDiv.innerHTML =
            '<div class="result error">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin h·ª£p l·ªá!</div>';
          return;
        }

        let tienDien = 0;
        let chiTiet = "";

        if (soKW <= 50) {
          tienDien = soKW * 500;
          chiTiet = `${soKW} KW x 500 = ${tienDien.toLocaleString()} VNƒê`;
        } else if (soKW <= 100) {
          tienDien = 50 * 500 + (soKW - 50) * 650;
          chiTiet = `50 KW x 500 + ${
            soKW - 50
          } KW x 650 = ${tienDien.toLocaleString()} VNƒê`;
        } else if (soKW <= 200) {
          tienDien = 50 * 500 + 50 * 650 + (soKW - 100) * 850;
          chiTiet = `50 KW x 500 + 50 KW x 650 + ${
            soKW - 100
          } KW x 850 = ${tienDien.toLocaleString()} VNƒê`;
        } else if (soKW <= 350) {
          tienDien = 50 * 500 + 50 * 650 + 100 * 850 + (soKW - 200) * 1100;
          chiTiet = `50 KW x 500 + 50 KW x 650 + 100 KW x 850 + ${
            soKW - 200
          } KW x 1,100 = ${tienDien.toLocaleString()} VNƒê`;
        } else {
          tienDien =
            50 * 500 + 50 * 650 + 100 * 850 + 150 * 1100 + (soKW - 350) * 1300;
          chiTiet = `50 KW x 500 + 50 KW x 650 + 100 KW x 850 + 150 KW x 1,100 + ${
            soKW - 350
          } KW x 1,300 = ${tienDien.toLocaleString()} VNƒê`;
        }

        resultDiv.innerHTML = `
                <div class="result">
                    <strong>üßæ H√≥a ƒë∆°n ti·ªÅn ƒëi·ªán</strong><br>
                    üë§ Kh√°ch h√†ng: ${tenKhachHang}<br>
                    ‚ö° S·ªë KW ti√™u th·ª•: ${soKW.toLocaleString()} KW<br>
                    üí∞ T·ªïng ti·ªÅn: <strong>${tienDien.toLocaleString()} VNƒê</strong><br>
                    <small>Chi ti·∫øt: ${chiTiet}</small>
                </div>
            `;
      }

      // Exercise 3: Income Tax
      function tinhThue() {
        const hoTen = document.getElementById("hoTen").value;
        const tongThuNhap = parseFloat(
          document.getElementById("tongThuNhap").value
        );
        const soNguoiPhuThuoc = parseInt(
          document.getElementById("soNguoiPhuThuoc").value
        );
        const resultDiv = document.getElementById("ketQuaThue");

        if (
          !hoTen ||
          isNaN(tongThuNhap) ||
          isNaN(soNguoiPhuThuoc) ||
          tongThuNhap < 0
        ) {
          resultDiv.innerHTML =
            '<div class="result error">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin h·ª£p l·ªá!</div>';
          return;
        }

        // Calculate taxable income
        const thuNhapChiuThue = tongThuNhap - 4 - soNguoiPhuThuoc * 1.6;

        if (thuNhapChiuThue <= 0) {
          resultDiv.innerHTML = `
                <div class="result">
                    <strong>üßæ T√≠nh thu·∫ø thu nh·∫≠p c√° nh√¢n</strong><br>
                    üë§ H·ªç t√™n: ${hoTen}<br>
                    üí∞ Thu nh·∫≠p ch·ªãu thu·∫ø: 0 tri·ªáu VNƒê<br>
                    üèõÔ∏è Ti·ªÅn thu·∫ø: <strong>0 VNƒê</strong><br>
                    <small>Thu nh·∫≠p kh√¥ng ƒë·ªß ch·ªãu thu·∫ø</small>
                </div>
            `;
          return;
        }

        let tienThue = 0;
        let chiTiet = "";

        if (thuNhapChiuThue <= 60) {
          tienThue = thuNhapChiuThue * 0.05;
          chiTiet = `${thuNhapChiuThue.toFixed(1)} x 5% = ${tienThue.toFixed(
            1
          )} tri·ªáu VNƒê`;
        } else if (thuNhapChiuThue <= 120) {
          tienThue = 60 * 0.05 + (thuNhapChiuThue - 60) * 0.1;
          chiTiet = `60 x 5% + ${(thuNhapChiuThue - 60).toFixed(
            1
          )} x 10% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        } else if (thuNhapChiuThue <= 210) {
          tienThue = 60 * 0.05 + 60 * 0.1 + (thuNhapChiuThue - 120) * 0.15;
          chiTiet = `60 x 5% + 60 x 10% + ${(thuNhapChiuThue - 120).toFixed(
            1
          )} x 15% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        } else if (thuNhapChiuThue <= 384) {
          tienThue =
            60 * 0.05 + 60 * 0.1 + 90 * 0.15 + (thuNhapChiuThue - 210) * 0.2;
          chiTiet = `60 x 5% + 60 x 10% + 90 x 15% + ${(
            thuNhapChiuThue - 210
          ).toFixed(1)} x 20% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        } else if (thuNhapChiuThue <= 624) {
          tienThue =
            60 * 0.05 +
            60 * 0.1 +
            90 * 0.15 +
            174 * 0.2 +
            (thuNhapChiuThue - 384) * 0.25;
          chiTiet = `60 x 5% + 60 x 10% + 90 x 15% + 174 x 20% + ${(
            thuNhapChiuThue - 384
          ).toFixed(1)} x 25% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        } else if (thuNhapChiuThue <= 960) {
          tienThue =
            60 * 0.05 +
            60 * 0.1 +
            90 * 0.15 +
            174 * 0.2 +
            240 * 0.25 +
            (thuNhapChiuThue - 624) * 0.3;
          chiTiet = `60 x 5% + 60 x 10% + 90 x 15% + 174 x 20% + 240 x 25% + ${(
            thuNhapChiuThue - 624
          ).toFixed(1)} x 30% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        } else {
          tienThue =
            60 * 0.05 +
            60 * 0.1 +
            90 * 0.15 +
            174 * 0.2 +
            240 * 0.25 +
            336 * 0.3 +
            (thuNhapChiuThue - 960) * 0.35;
          chiTiet = `60 x 5% + 60 x 10% + 90 x 15% + 174 x 20% + 240 x 25% + 336 x 30% + ${(
            thuNhapChiuThue - 960
          ).toFixed(1)} x 35% = ${tienThue.toFixed(1)} tri·ªáu VNƒê`;
        }

        resultDiv.innerHTML = `
            <div class="result">
                <strong>üßæ T√≠nh thu·∫ø thu nh·∫≠p c√° nh√¢n</strong><br>
                üë§ H·ªç t√™n: ${hoTen}<br>
                üí∞ T·ªïng thu nh·∫≠p: ${tongThuNhap.toLocaleString()} tri·ªáu VNƒê<br>
                üë®‚Äçüë©‚Äçüëß‚Äçüë¶ S·ªë ng∆∞·ªùi ph·ª• thu·ªôc: ${soNguoiPhuThuoc} ng∆∞·ªùi<br>
                üìä Thu nh·∫≠p ch·ªãu thu·∫ø: ${thuNhapChiuThue.toFixed(
                  1
                )} tri·ªáu VNƒê<br>
                üèõÔ∏è Ti·ªÅn thu·∫ø: <strong>${(
                  tienThue * 1000000
                ).toLocaleString()} VNƒê</strong><br>
                <small>Chi ti·∫øt: ${chiTiet}</small>
            </div>
        `;
      }
      // Exercise 4: Cable Bill
      function toggleKetNoi() {
        const loaiKhachHang = document.getElementById("loaiKhachHang").value;
        const soKetNoiGroup = document.getElementById("soKetNoiGroup");

        if (loaiKhachHang === "doanhnghiep") {
          soKetNoiGroup.style.display = "block";
        } else {
          soKetNoiGroup.style.display = "none";
        }
      }

      function tinhTienCap() {
        const maKhachHang = document.getElementById("maKhachHang").value;
        const loaiKhachHang = document.getElementById("loaiKhachHang").value;
        const soKetNoi =
          parseInt(document.getElementById("soKetNoi").value) || 0;
        const soKenh = parseInt(document.getElementById("soKenh").value) || 0;
        const resultDiv = document.getElementById("ketQuaTienCap");

        if (
          !maKhachHang ||
          isNaN(soKenh) ||
          soKenh < 0 ||
          (loaiKhachHang === "doanhnghiep" && (isNaN(soKetNoi) || soKetNoi < 1))
        ) {
          resultDiv.innerHTML =
            '<div class="result error">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin h·ª£p l·ªá!</div>';
          return;
        }

        let tongTien = 0;
        let chiTiet = "";

        if (loaiKhachHang === "nhadan") {
          const phiXuLy = 4.5;
          const phiDichVu = 20.5;
          const phiKenh = soKenh * 7.5;
          tongTien = phiXuLy + phiDichVu + phiKenh;
          chiTiet = `Ph√≠ x·ª≠ l√Ω: $${phiXuLy} + Ph√≠ d·ªãch v·ª•: $${phiDichVu} + Ph√≠ k√™nh cao c·∫•p: ${soKenh} x $7.5 = $${phiKenh}`;
        } else {
          const phiXuLy = 15;
          let phiDichVu = 75; // Basic service fee for first 10 connections
          const phiKenh = soKenh * 50;
          let phiKetNoiThem = 0;

          if (soKetNoi > 10) {
            phiKetNoiThem = (soKetNoi - 10) * 5;
            phiDichVu += phiKetNoiThem;
          }

          tongTien = phiXuLy + phiDichVu + phiKenh;
          chiTiet = `Ph√≠ x·ª≠ l√Ω: $${phiXuLy} + Ph√≠ d·ªãch v·ª•: $${75} ${
            soKetNoi > 10
              ? `+ ${soKetNoi - 10} k·∫øt n·ªëi x $5 = $${phiKetNoiThem}`
              : ""
          } + Ph√≠ k√™nh cao c·∫•p: ${soKenh} x $50 = $${phiKenh}`;
        }

        resultDiv.innerHTML = `
                <div class="result">
                    <strong>üßæ H√≥a ƒë∆°n ti·ªÅn c√°p</strong><br>
                    üë§ M√£ kh√°ch h√†ng: ${maKhachHang}<br>
                    üè† Lo·∫°i kh√°ch h√†ng: ${
                      loaiKhachHang === "nhadan" ? "Nh√† d√¢n" : "Doanh nghi·ªáp"
                    }<br>
                    ${
                      loaiKhachHang === "doanhnghiep"
                        ? `üîó S·ªë k·∫øt n·ªëi: ${soKetNoi}<br>`
                        : ""
                    }
                    üì∫ S·ªë k√™nh cao c·∫•p: ${soKenh}<br>
                    üí∞ T·ªïng ti·ªÅn: <strong>$${tongTien.toFixed(2)}</strong><br>
                    <small>Chi ti·∫øt: ${chiTiet}</small>
                </div>
            `;
      }
    </script>
  </body>
</html>
